<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python | Pick Leaf</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favor.jpg">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.0e3004f6.css" as="style"><link rel="preload" href="/assets/js/app.b70732cd.js" as="script"><link rel="preload" href="/assets/js/2.6ccf87d4.js" as="script"><link rel="preload" href="/assets/js/1.a1e8673c.js" as="script"><link rel="preload" href="/assets/js/58.7be432ce.js" as="script"><link rel="prefetch" href="/assets/js/10.862a342f.js"><link rel="prefetch" href="/assets/js/11.3700e52e.js"><link rel="prefetch" href="/assets/js/12.82d7f445.js"><link rel="prefetch" href="/assets/js/13.44d0828b.js"><link rel="prefetch" href="/assets/js/14.09111c81.js"><link rel="prefetch" href="/assets/js/15.7abad6d0.js"><link rel="prefetch" href="/assets/js/16.de92937a.js"><link rel="prefetch" href="/assets/js/17.ef4d8cc7.js"><link rel="prefetch" href="/assets/js/18.3256f17f.js"><link rel="prefetch" href="/assets/js/19.e02e27be.js"><link rel="prefetch" href="/assets/js/20.e2600d0b.js"><link rel="prefetch" href="/assets/js/21.114d958e.js"><link rel="prefetch" href="/assets/js/22.5ba155b7.js"><link rel="prefetch" href="/assets/js/23.4258e2fe.js"><link rel="prefetch" href="/assets/js/24.b52f3454.js"><link rel="prefetch" href="/assets/js/25.6140159a.js"><link rel="prefetch" href="/assets/js/26.8d054670.js"><link rel="prefetch" href="/assets/js/27.bb04a340.js"><link rel="prefetch" href="/assets/js/28.985b94b9.js"><link rel="prefetch" href="/assets/js/29.82b6f4e6.js"><link rel="prefetch" href="/assets/js/3.eb371a75.js"><link rel="prefetch" href="/assets/js/30.fa8aeacd.js"><link rel="prefetch" href="/assets/js/31.7608b720.js"><link rel="prefetch" href="/assets/js/32.fb42d180.js"><link rel="prefetch" href="/assets/js/33.09913d26.js"><link rel="prefetch" href="/assets/js/34.0cc9b09e.js"><link rel="prefetch" href="/assets/js/35.61ebef24.js"><link rel="prefetch" href="/assets/js/36.5305c070.js"><link rel="prefetch" href="/assets/js/37.a1f5df34.js"><link rel="prefetch" href="/assets/js/38.fe061542.js"><link rel="prefetch" href="/assets/js/39.6da22ed5.js"><link rel="prefetch" href="/assets/js/4.a390f587.js"><link rel="prefetch" href="/assets/js/40.ec6c0360.js"><link rel="prefetch" href="/assets/js/41.5717d884.js"><link rel="prefetch" href="/assets/js/42.9b23b0f4.js"><link rel="prefetch" href="/assets/js/43.25eda5b6.js"><link rel="prefetch" href="/assets/js/44.dbbae758.js"><link rel="prefetch" href="/assets/js/45.0f4ed223.js"><link rel="prefetch" href="/assets/js/46.e850173e.js"><link rel="prefetch" href="/assets/js/47.e413ef21.js"><link rel="prefetch" href="/assets/js/48.efe0cea2.js"><link rel="prefetch" href="/assets/js/49.cfae89d4.js"><link rel="prefetch" href="/assets/js/5.d3945a33.js"><link rel="prefetch" href="/assets/js/50.afff95c7.js"><link rel="prefetch" href="/assets/js/51.bf678dd9.js"><link rel="prefetch" href="/assets/js/52.6bb21c72.js"><link rel="prefetch" href="/assets/js/53.3499dde8.js"><link rel="prefetch" href="/assets/js/54.128e995f.js"><link rel="prefetch" href="/assets/js/55.546627f2.js"><link rel="prefetch" href="/assets/js/56.3c781b98.js"><link rel="prefetch" href="/assets/js/57.5db4708e.js"><link rel="prefetch" href="/assets/js/59.e59f7e20.js"><link rel="prefetch" href="/assets/js/6.6c03783e.js"><link rel="prefetch" href="/assets/js/60.f7667f24.js"><link rel="prefetch" href="/assets/js/61.6701856b.js"><link rel="prefetch" href="/assets/js/62.61bd2930.js"><link rel="prefetch" href="/assets/js/63.66857e5e.js"><link rel="prefetch" href="/assets/js/64.cd1d3502.js"><link rel="prefetch" href="/assets/js/7.16d706f8.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.162bdabc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0e3004f6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/icon.jpg" alt="Pick Leaf" class="logo"> <span class="site-name can-hide">Pick Leaf</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Notes" class="dropdown-title"><span class="title">Notes</span> <span class="arrow down"></span></button> <button type="button" aria-label="Notes" class="mobile-dropdown-title"><span class="title">Notes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/lang/" class="nav-link router-link-active">
  Lang
</a></li><li class="dropdown-item"><!----> <a href="/notes/util/" class="nav-link">
  Util
</a></li></ul></div></div><div class="nav-item"><a href="/acm/" class="nav-link">
  ACM
</a></div><div class="nav-item"><a href="/cs/" class="nav-link">
  CS
</a></div><div class="nav-item"><a href="/others/" class="nav-link">
  Others
</a></div><div class="nav-item"><a href="https://github.com/FomalhautLing/FomalhautLing.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Notes" class="dropdown-title"><span class="title">Notes</span> <span class="arrow down"></span></button> <button type="button" aria-label="Notes" class="mobile-dropdown-title"><span class="title">Notes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/lang/" class="nav-link router-link-active">
  Lang
</a></li><li class="dropdown-item"><!----> <a href="/notes/util/" class="nav-link">
  Util
</a></li></ul></div></div><div class="nav-item"><a href="/acm/" class="nav-link">
  ACM
</a></div><div class="nav-item"><a href="/cs/" class="nav-link">
  CS
</a></div><div class="nav-item"><a href="/others/" class="nav-link">
  Others
</a></div><div class="nav-item"><a href="https://github.com/FomalhautLing/FomalhautLing.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Lang</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/lang/cpp.html" class="sidebar-link">Cpp</a></li><li><a href="/notes/lang/java.html" class="sidebar-link">Java</a></li><li><a href="/notes/lang/python.html" aria-current="page" class="active sidebar-link">Python</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/lang/python.html#builtin" class="sidebar-link">Builtin</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/lang/python.html#re-正则模块" class="sidebar-link">re 正则模块</a></li><li class="sidebar-sub-header"><a href="/notes/lang/python.html#decimal-浮点高精" class="sidebar-link">decimal 浮点高精</a></li><li class="sidebar-sub-header"><a href="/notes/lang/python.html#其它" class="sidebar-link">其它</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/lang/python.html#sympy" class="sidebar-link">SymPy</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/lang/python.html#symbol-对象" class="sidebar-link">Symbol 对象</a></li><li class="sidebar-sub-header"><a href="/notes/lang/python.html#assumptions" class="sidebar-link">assumptions</a></li><li class="sidebar-sub-header"><a href="/notes/lang/python.html#多项式" class="sidebar-link">多项式</a></li><li class="sidebar-sub-header"><a href="/notes/lang/python.html#微积分" class="sidebar-link">微积分</a></li><li class="sidebar-sub-header"><a href="/notes/lang/python.html#极限与级数" class="sidebar-link">极限与级数</a></li><li class="sidebar-sub-header"><a href="/notes/lang/python.html#解方程" class="sidebar-link">解方程</a></li><li class="sidebar-sub-header"><a href="/notes/lang/python.html#线性代数" class="sidebar-link">线性代数</a></li><li class="sidebar-sub-header"><a href="/notes/lang/python.html#逻辑代数" class="sidebar-link">逻辑代数</a></li><li class="sidebar-sub-header"><a href="/notes/lang/python.html#其它-2" class="sidebar-link">其它</a></li><li class="sidebar-sub-header"><a href="/notes/lang/python.html#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/lang/python.html#keyboard" class="sidebar-link">keyboard</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/lang/python.html#常用函数" class="sidebar-link">常用函数</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="python"><a href="#python" class="header-anchor">#</a> Python</h1> <h2 id="builtin"><a href="#builtin" class="header-anchor">#</a> Builtin</h2> <p>Python 内置的库</p> <h3 id="re-正则模块"><a href="#re-正则模块" class="header-anchor">#</a> re 正则模块</h3> <p>re 是 Python 的正则模块，用于进行<a href="/notes/util/regex.html">正则匹配</a></p> <h4 id="compile-pattern"><a href="#compile-pattern" class="header-anchor">#</a> <code>compile(pattern)</code></h4> <p>接受一个字符串 <em>pattern</em>，返回一个正则表达式对象（<code>Pattern</code>）</p> <h4 id="match-pattern-string-flags-0"><a href="#match-pattern-string-flags-0" class="header-anchor">#</a> <code>match(pattern, string, flags=0)</code></h4> <p>应用 <em>pattern</em> 对 <em>string</em> 进行全文<strong>匹配</strong>，返回 <code>Match</code> 对象</p> <p>常用 <em>flags</em></p> <ol><li><code>I</code> (Ignore_case)：忽略大小写</li> <li><code>M</code> (Multiline)；匹配多行。<code>^</code> 匹配第一行开始，<code>$</code> 匹配最后一行结束</li> <li><code>S</code> (Dot_all)：允许 <code>.</code> 匹配换行</li></ol> <h4 id="serch-pattern-string-flags-0"><a href="#serch-pattern-string-flags-0" class="header-anchor">#</a> <code>serch(pattern, string, flags=0)</code></h4> <p>应用 <em>pattern</em> 对 <em>string</em> 进行全文<strong>查找</strong>，返回 <code>Match</code> 对象</p> <p>匹配与查找的区别：匹配是指文本串 <em>string</em> 全文可以被 <em>pattern</em> 匹配，查找是指文本串 <em>string</em> 有一部分可以被 <em>pattern</em> 匹配</p> <h4 id="sub-pattern-repl-string-count-0-flags-0"><a href="#sub-pattern-repl-string-count-0-flags-0" class="header-anchor">#</a> <code>sub(pattern, repl, string, count=0, flags=0)</code></h4> <p>将文本串 <em>string</em> 中所有与 <em>pattern</em> 匹配的部分替换为 <em>repl</em>。这里 <em>repl</em> 可以是一个函数</p> <h4 id="match"><a href="#match" class="header-anchor">#</a> <code>Match</code></h4> <p>匹配结果。主要使用其中的两个方法</p> <ol><li><code>.group(__group=0)</code>：返回第 __<em>group</em> 组的匹配结果，<code>.group(0)</code> 表示文本串本身</li> <li><code>.groups()</code>：返回一个字符串元组，包含所有的 group，<strong>不含</strong>文本串本身</li></ol> <h3 id="decimal-浮点高精"><a href="#decimal-浮点高精" class="header-anchor">#</a> decimal 浮点高精</h3> <p><a href="https://docs.python.org/zh-cn/3/library/decimal.html" target="_blank" rel="noopener noreferrer">Document<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="decimal"><a href="#decimal" class="header-anchor">#</a> <code>Decimal</code></h4> <p>构造方法：<code>Decimal(value, context)</code></p> <p><em>value</em> 是 Decimal 的值，它可以是数字类型，也可以是一个字符串。如果不给此参数，默认为 0<br> <em>context</em> 用于确定当 <em>value</em> 为格式错误的字符串时要怎么做，一般不填</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>Decimal<span class="token punctuation">(</span><span class="token number">514</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">514</span>

Deciaml<span class="token punctuation">(</span><span class="token string">&quot;3.1415926535&quot;</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">3.1415926535</span>

Deciaml<span class="token punctuation">(</span><span class="token string">&quot;2e5&quot;</span><span class="token punctuation">)</span>  <span class="token comment"># 接受科学计数法</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">2E+5</span>

Decimal<span class="token punctuation">(</span><span class="token number">3.14</span><span class="token punctuation">)</span>  <span class="token comment"># 如果传入一个浮点数，则可能得到不准确的结果</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">3.140000000000000124344978758017532527446746826171875</span>

Decimal<span class="token punctuation">(</span><span class="token string">'-INFINITY'</span><span class="token punctuation">)</span>  <span class="token comment"># 此外，Decimal 还可以接受一些特殊值</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token operator">-</span>Infinity
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>可用的特殊值值有：NaN、Infinity、-Infinity、-0，大小写不敏感</p> <p><strong>Decimal 对象只能与 Decimal 对象进行计算</strong></p> <h5 id="quantize-exp-rounding-none"><a href="#quantize-exp-rounding-none" class="header-anchor">#</a> <code>.quantize(exp, rounding=None)</code></h5> <p>按照 <em>exp</em> 的格式进行舍入，舍入规则为 <em>rounding</em>（默认四舍五入）<br> <em>exp</em> 可以是一个整数，或是一个 <code>Decimal</code>，舍入的结果与 <em>exp</em> 有相同的小数位数</p> <p><em>rounding</em> 表（部分）</p> <table><tr><td>ROUND_CEILING</td> <td>ROUND_FLOOR</td> <td>ROUND_UP</td> <td>ROUND_DOWN</td></tr> <tr><td>向无穷舍入</td> <td>向负无穷舍入</td> <td>向零的反方向舍入</td> <td>向零舍入</td></tr></table> <p><a href="https://docs.python.org/zh-cn/3/library/decimal.html#rounding-modes" target="_blank" rel="noopener noreferrer">Read More<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="getcontext"><a href="#getcontext" class="header-anchor">#</a> <code>getcontext()</code></h4> <p>这是 decimal 模块的上下文对象，根据它的属性，decimal 在计算时会有不同的表现。默认的配置如下</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>getcontext<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Context<span class="token punctuation">(</span>prec<span class="token operator">=</span><span class="token number">28</span><span class="token punctuation">,</span> rounding<span class="token operator">=</span>ROUND_HALF_EVEN<span class="token punctuation">,</span> Emin<span class="token operator">=</span><span class="token operator">-</span><span class="token number">999999</span><span class="token punctuation">,</span> Emax<span class="token operator">=</span><span class="token number">999999</span><span class="token punctuation">,</span> capitals<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> 
    clamp<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> flags<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> traps<span class="token operator">=</span><span class="token punctuation">[</span>InvalidOperation<span class="token punctuation">,</span> DivisionByZero<span class="token punctuation">,</span> Overflow<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol><li><code>.prec</code>：精度，它表示运算结果的有效数字（它只影响运算结果，不影响创建对象时的有效数字）</li> <li><code>.rounding</code>：舍入方式，见 <em>rounding</em> 表</li> <li><code>.Emin</code>：指数下界</li> <li><code>.Emax</code>：指数上界，这两个界限的取值也是有界的，具体可以看文档</li> <li><code>.capitals</code>：只有两个取值，控制打印时指数符号 'e' 的大小写，0 表示小写，1 大写</li> <li><code>.traps</code>：允许抛出的异常</li></ol> <details class="custom-block details"><summary>DETAILS</summary> <p>Python 为调试专门提供了一个上下文，它不再抛出如除零异常之类的异常</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>setcontext<span class="token punctuation">(</span>ExtendedContext<span class="token punctuation">)</span>
getcontext<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Context<span class="token punctuation">(</span>prec<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">,</span> rounding<span class="token operator">=</span>ROUND_HALF_EVEN<span class="token punctuation">,</span> Emin<span class="token operator">=</span><span class="token operator">-</span><span class="token number">999999</span><span class="token punctuation">,</span> 
    Emax<span class="token operator">=</span><span class="token number">999999</span><span class="token punctuation">,</span> capitals<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> clamp<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> flags<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> traps<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    
Decimal<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> Decimal<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Infinity
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></details> <h3 id="其它"><a href="#其它" class="header-anchor">#</a> 其它</h3> <h4 id="求余与整除"><a href="#求余与整除" class="header-anchor">#</a> 求余与整除</h4> <div style="display:flex;"><div style="flex:10;"><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token number">5</span> <span class="token operator">%</span> <span class="token number">3</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">2</span>

<span class="token number">5</span> <span class="token operator">%</span> <span class="token operator">-</span><span class="token number">3</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span>

<span class="token operator">-</span><span class="token number">5</span> <span class="token operator">%</span> <span class="token number">3</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">1</span>

<span class="token operator">-</span><span class="token number">5</span> <span class="token operator">%</span> <span class="token operator">-</span><span class="token number">3</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></div> <div style="flex:1;"></div> <div style="flex:10;"><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token number">5</span> <span class="token operator">//</span> <span class="token number">3</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">1</span>

<span class="token number">5</span> <span class="token operator">//</span> <span class="token operator">-</span><span class="token number">3</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">2</span>

<span class="token operator">-</span><span class="token number">5</span> <span class="token operator">//</span> <span class="token number">3</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">2</span>

<span class="token operator">-</span><span class="token number">5</span> <span class="token operator">//</span> <span class="token operator">-</span><span class="token number">3</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></div></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>在 decimal 模块中，求余与整除的表现与此<strong>不同</strong></p> <p>两个 Decimal 对象做求余运算，其结果的符号与<strong>被除数</strong>保持一致，同时在此基础上为了保证等式 <code>x == (x // y) * y + x % y</code> 成立，整除的运算结果也有相应调整</p></div> <h2 id="sympy"><a href="#sympy" class="header-anchor">#</a> SymPy</h2> <p>SymPy 是一个完全由 Python 实现的符号计算库</p> <p><a href="https://docs.sympy.org/latest/index.html" target="_blank" rel="noopener noreferrer">Document<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="symbol-对象"><a href="#symbol-对象" class="header-anchor">#</a> Symbol 对象</h3> <p>构造方法：<code>Symbol(name, **assumptions)</code></p> <p>最基础的 Symbol 类，接受一个字符串 <em>name</em> 作为变量名。建议 Python 变量名与 <em>name</em> 保持一致</p> <p><em>**assumptions</em> 是变量的数域，例如 <code>Symbol(&quot;x&quot;, real=True)</code> 指定这个变量属于实数域</p> <p>两个 Symbol 对象相等当且仅当 <em>name</em> 和 <em>**assumptions</em> 分别相等</p> <p><code>symbols(names)</code>：根据 <em>names</em> 批量创建变量，支持一些缩略写法</p> <p><code>sympify(a)</code>：接受一个字符串 <em>a</em>，将其转为符号表达式</p> <h3 id="assumptions"><a href="#assumptions" class="header-anchor">#</a> assumptions</h3> <p>数域是 <code>simplify</code> 化简时的重要参考</p> <p>由于数域实之间有大量的包含关系，给一个变量设定 assumptions 后，它实际上会获得与此相关的一系列
assumptions。例如 <code>x = Symbol('x', real=True)</code>，则 x 将获得</p> <div class="language- extra-class"><pre><code>&gt;&gt;&gt; {'real': True, 'commutative': True, 'hermitian': True, 'complex': True, 
'imaginary': False, 'extended_real': True, 'infinite': False, 'finite': True}
</code></pre></div><p>如果不指定 assumptions，SymPy 默认此变量是满足结合律（commutative）的。常用数域表如下</p> <table><tbody style="text-align:center;"><tr><th>assumption</th> <td>commutative</td> <td>complex</td> <td>real</td> <td>even</td> <td>rational</td> <td>positive</td> <td>finite</td></tr> <tr><th>description</th> <td>满足结合律</td> <td>复数</td> <td>实数</td> <td>偶数</td> <td>有理数</td> <td>正数</td> <td>有穷数</td></tr> <tr><th>assumption</th> <td>imaginary</td> <td>irrational</td> <td>odd</td> <td>prime</td> <td>integer</td> <td>nonzero</td> <td>zero</td></tr> <tr><th>description</th> <td>虚数</td> <td>无理数</td> <td>奇数</td> <td>质数</td> <td>整数</td> <td>非零数</td> <td>零</td></tr></tbody></table> <p>符号对象有 <code>is_xxx()</code> 方法，可以检查其是否在某个域中。例如 <code>is_real()</code></p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>符号变量的 <code>is_xxx()</code> 方法并没有覆盖所有的数域，例如就<strong>没有</strong> <code>is_positive()</code></p></div> <p><a href="https://docs.sympy.org/latest/guides/assumptions.html#id28" target="_blank" rel="noopener noreferrer">Read more<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="多项式"><a href="#多项式" class="header-anchor">#</a> 多项式</h3> <h4 id="expand-e"><a href="#expand-e" class="header-anchor">#</a> <code>expand(e)</code></h4> <p>多项式展开</p> <h4 id="factor-f"><a href="#factor-f" class="header-anchor">#</a> <code>factor(f)</code></h4> <p>因式分解</p> <h4 id="collect-expr-syms"><a href="#collect-expr-syms" class="header-anchor">#</a> <code>collect(expr, syms)</code></h4> <p>根据 <em>syms</em> 合并同类项。这里 <em>syms</em> 可以是一个符号对象的序列，会按顺序依次合并</p> <h4 id="cancel-f"><a href="#cancel-f" class="header-anchor">#</a> <code>cancel(f)</code></h4> <p>约分。若 <em>f</em> 是一个和除以一个数的形式（例如 <code>(a + b) / 2</code>），该函数会返回和的形式而非分数</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>cacel<span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token operator">/</span><span class="token number">2</span> <span class="token operator">+</span> b<span class="token operator">/</span><span class="token number">2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果确实想得到分数，可以使用 <code>together(expr)</code>，它会对式子通分，返回 <code>a / b</code> 的形式</p> <h4 id="apart-f-x-none"><a href="#apart-f-x-none" class="header-anchor">#</a> <code>apart(f, x=None)</code></h4> <p>部分分式展开，<code>together(expr)</code> 的逆函数</p> <h3 id="微积分"><a href="#微积分" class="header-anchor">#</a> 微积分</h3> <h4 id="diff-f-symbols"><a href="#diff-f-symbols" class="header-anchor">#</a> <code>diff(f, *symbols)</code></h4> <p>求导。<em>*symbols</em> 为需要求导的变量，可以是一个或多个，会按顺序求导</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>diff<span class="token punctuation">(</span>sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> cos<span class="token punctuation">(</span>x<span class="token punctuation">)</span>

diff<span class="token punctuation">(</span>sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> x<span class="token punctuation">)</span>  <span class="token comment"># 相当于二阶导数</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token operator">-</span>sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span>

diff<span class="token punctuation">(</span>sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token operator">-</span>sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span>

cos<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span>diff<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 用方法求导</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token operator">-</span>cos<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="integrate-args"><a href="#integrate-args" class="header-anchor">#</a> <code>integrate(*args)</code></h4> <p>求积分。可以是不定积分，也可以是定积分</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>integrate<span class="token punctuation">(</span>cos<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span>

integrate<span class="token punctuation">(</span>exp<span class="token punctuation">(</span><span class="token operator">-</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> oo<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 用 oo 表示无穷大</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">1</span>

integrate<span class="token punctuation">(</span>exp<span class="token punctuation">(</span><span class="token operator">-</span>x<span class="token operator">**</span><span class="token number">2</span> <span class="token operator">-</span> y<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token operator">-</span>oo<span class="token punctuation">,</span> oo<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token operator">-</span>oo<span class="token punctuation">,</span> oo<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 二重积分</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> pi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="极限与级数"><a href="#极限与级数" class="header-anchor">#</a> 极限与级数</h3> <h4 id="极限"><a href="#极限" class="header-anchor">#</a> 极限</h4> <p><code>limit(e, z, z0, dir='+')</code>：求 <em>z</em> 趋于 <em>z0</em> 时表达式 <em>e</em> 的极限，默认趋于 z0+</p> <h4 id="泰勒展开"><a href="#泰勒展开" class="header-anchor">#</a> 泰勒展开</h4> <p><code>.series(x, x0=0, n=6)</code>：当前表达式关于变量 <em>x</em> 在 <em>x0</em> 处进行 <em>n</em> 阶泰勒展开</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span>series<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> x <span class="token operator">-</span> x<span class="token operator">**</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">6</span> <span class="token operator">+</span> x<span class="token operator">**</span><span class="token number">5</span><span class="token operator">/</span><span class="token number">120</span> <span class="token operator">+</span> O<span class="token punctuation">(</span>x<span class="token operator">**</span><span class="token number">6</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="解方程"><a href="#解方程" class="header-anchor">#</a> 解方程</h3> <p><code>solve(f, *symbols)</code>：<em>f</em> 是要解的方程，<em>*symbols</em> 是方程的未知数</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>solve<span class="token punctuation">(</span>x<span class="token operator">**</span><span class="token number">4</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span>I<span class="token punctuation">,</span> I<span class="token punctuation">]</span>

solve<span class="token punctuation">(</span>Eq<span class="token punctuation">(</span>x<span class="token operator">**</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span>I<span class="token punctuation">,</span> I<span class="token punctuation">]</span>

solve<span class="token punctuation">(</span><span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">,</span> y<span class="token operator">**</span><span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 解方程组</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>x<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>x<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">]</span>

solve<span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>y <span class="token operator">-</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 如果不指定变量，默认会以字典序选取变量</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span> x<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>b<span class="token punctuation">:</span> y<span class="token punctuation">}</span><span class="token punctuation">]</span>

x <span class="token operator">=</span> Symbol<span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> positive<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment"># 数域在解方程中的作用</span>
solve<span class="token punctuation">(</span>x<span class="token operator">**</span><span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><code>solveset(f, symbol=None, domain=S.Complexes)</code>：求 <em>f</em> 关于 <em>symbol</em> 在 <em>domain</em> 中的解集</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>solveset<span class="token punctuation">(</span>Eq<span class="token punctuation">(</span>x<span class="token operator">**</span><span class="token number">2</span> <span class="token operator">-</span> x<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span>

solveset<span class="token punctuation">(</span>exp<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> ImageSet<span class="token punctuation">(</span>Lambda<span class="token punctuation">(</span>_n<span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>_n<span class="token operator">*</span>I<span class="token operator">*</span>pi<span class="token punctuation">)</span><span class="token punctuation">,</span> Integers<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token number">2</span>⋅n⋅ⅈ⋅π │ n ∊ ℤ<span class="token punctuation">}</span>  <span class="token comment"># 使用 pretty_print 打印</span>

solve<span class="token punctuation">(</span>exp<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>  <span class="token comment"># 而 solve 无法求出解集</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>该函数<strong>不受</strong>变量的数域影响，要在特定的数域中求解，应设置 <em>domain</em></p></div> <p><code>dsolve(eq, func=None, hint=&quot;default&quot;)</code>：用 <em>hint</em> 方法求解关于未知函数 <em>func</em> 的微分方程 <em>eq</em></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>f <span class="token operator">=</span> Function<span class="token punctuation">(</span><span class="token string">&quot;f&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment"># 建立一个关于 x 的符号函数 f</span>
f_<span class="token punctuation">,</span> f__ <span class="token operator">=</span> f<span class="token punctuation">.</span>diff<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> f<span class="token punctuation">.</span>diff<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
dsolve<span class="token punctuation">(</span>Eq<span class="token punctuation">(</span>f__ <span class="token operator">-</span> <span class="token number">2</span><span class="token operator">*</span>f_ <span class="token operator">+</span> f<span class="token punctuation">,</span> sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Eq<span class="token punctuation">(</span>f<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>C1 <span class="token operator">+</span> C2<span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token operator">*</span>exp<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> cos<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="线性代数"><a href="#线性代数" class="header-anchor">#</a> 线性代数</h3> <ol><li>矩阵：<code>Matrix([[1, -1], [3, 4], [0, 2]]) &gt;&gt;&gt; Matrix([[1, -1], [3, 4], [0, 2]])</code></li> <li>列向量：<code>Matrix([1, 2, 3]) &gt;&gt;&gt; Matrix([[1], [2], [3]])</code></li> <li>行向量：<code>Matrix([1, 2, 3]).T &gt;&gt;&gt; Matrix([[1, 2, 3]])</code></li></ol> <h4 id="eye-n"><a href="#eye-n" class="header-anchor">#</a> <code>eye(n)</code></h4> <p>n * n 的单位矩阵</p> <h4 id="zeros-n"><a href="#zeros-n" class="header-anchor">#</a> <code>zeros(n)</code></h4> <p>（全）零矩阵</p> <h4 id="ones-n"><a href="#ones-n" class="header-anchor">#</a> <code>ones(n)</code></h4> <p>（全）壹矩阵</p> <h4 id="diag-values"><a href="#diag-values" class="header-anchor">#</a> <code>diag(values)</code></h4> <p>对角矩阵</p> <h4 id="t"><a href="#t" class="header-anchor">#</a> <code>.T</code></h4> <p>转置</p> <h4 id="inv"><a href="#inv" class="header-anchor">#</a> <code>.inv()</code></h4> <p>逆</p> <h4 id="det"><a href="#det" class="header-anchor">#</a> <code>.det()</code></h4> <p>行列式</p> <h4 id="eigenvals"><a href="#eigenvals" class="header-anchor">#</a> <code>.eigenvals()</code></h4> <p>特征值</p> <h4 id="charpoly"><a href="#charpoly" class="header-anchor">#</a> <code>.charpoly()</code></h4> <p>特征多项式（以特征值为根的多项式）</p> <h3 id="逻辑代数"><a href="#逻辑代数" class="header-anchor">#</a> 逻辑代数</h3> <p>符号：与 <code>&amp;</code>、或 <code>|</code>、非 <code>~</code>、蕴涵 <code>&gt;&gt;</code> （<code>p &gt;&gt; q</code> 的打印式为 <code>Implies(p, q)</code>）</p> <h4 id="sopform-variables-minterms-dontcares-none"><a href="#sopform-variables-minterms-dontcares-none" class="header-anchor">#</a> <code>SOPform(variables, minterms, dontcares=None)</code></h4> <p>以 <em>variables</em> 为逻辑变量，参考最小项 <em>minterms</em> 和无关项 <em>dontcares</em> 生成逻辑表达式</p> <p><em>minterms</em> 和 <em>dontcares</em> 的形式一样，可以是整数 <code>[1, 2, 3]</code>，逻辑取值 <code>[[0, 0, 0], [1, 0, 0], [1, 0, 1]]</code>，或是用字典表示的逻辑取值 <code>[{x: 0, y: 0, z: 0}]</code>。还可以是这几种的混合使用 <code>[1, 2, [0, 0, 0], {x: 1, z:1}]</code></p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>SOP 是 Sum Of Product 的简写，实际上指的是最小项之和</p></div> <h4 id="posform-variables-minterms-dontcares-none"><a href="#posform-variables-minterms-dontcares-none" class="header-anchor">#</a> <code>POSform(variables, minterms, dontcares=None)</code></h4> <p>以 <em>variables</em> 为逻辑变量，参考<strong>最小项</strong> <em>minterms</em> 和无关项 <em>dontcares</em> 生成逻辑表达式</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>POS 是 Product Of Sum 的简写，它产生的结果本质上与 SOP 一致，都保证在 <em>variables</em> 取 <em>minterms</em> 时，<strong>表达式返回 1</strong>，它求的<strong>不是</strong>最大项之积</p></div> <h4 id="to-cnf-expr"><a href="#to-cnf-expr" class="header-anchor">#</a> <code>to_cnf(expr)</code></h4> <p>求合取范式（Conjunctive Normal Form. CNF）</p> <h4 id="to-dnf-expr"><a href="#to-dnf-expr" class="header-anchor">#</a> <code>to_dnf(expr)</code></h4> <p>求析取范式（Disjunctive Normal Form. DNF）</p> <h4 id="satisfiable-expr"><a href="#satisfiable-expr" class="header-anchor">#</a> <code>satisfiable(expr)</code></h4> <p>求 <em>expr</em> 的所有成真赋值</p> <h4 id="bool-map-bool1-bool2"><a href="#bool-map-bool1-bool2" class="header-anchor">#</a> <code>bool_map(bool1, bool2)</code></h4> <p>判断两个逻辑表达式是否等价，如果等价，给出从 <em>bool1</em> 变换为 <em>bool2</em> 的方案</p> <p><code>bool_map(p &gt;&gt; q, ~a | b) &gt;&gt;&gt; (Q | ~P, {P: A, Q: B})</code></p> <p>该函数返回一个元组，第一项表示 <em>bool1</em> 可以转化为此形式，第二项表示用这此方式进行变量替换，即可从 <em>bool1</em> 得到 <em>bool2</em></p> <p>在实际使用中，如果两个表达式采用了相同的逻辑符号，则第二部分没有意义</p> <h3 id="其它-2"><a href="#其它-2" class="header-anchor">#</a> 其它</h3> <h4 id="latex-expr"><a href="#latex-expr" class="header-anchor">#</a> <code>latex(expr)</code></h4> <p>返回 <em>expr</em> 的 LaTex 表达式</p> <h4 id="pretty-print-expr"><a href="#pretty-print-expr" class="header-anchor">#</a> <code>pretty_print(expr)</code></h4> <p>更符合数学形式的打印式，简写 <code>pprint</code>（与 Python 内置的重名）</p> <h3 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h3> <p><a href="https://zhuanlan.zhihu.com/p/111573239" target="_blank" rel="noopener noreferrer">[1] Longson.SymPy 符号计算基本教程[EB/OL].知乎,2020.<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://zhuanlan.zhihu.com/p/364901583" target="_blank" rel="noopener noreferrer">[2] xingyongkang.使用sympy实现命题逻辑运算[EB/OL].知乎,2021.<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="keyboard"><a href="#keyboard" class="header-anchor">#</a> keyboard</h2> <p>key 与 hotkey 的区别：key 是单个按键，hotkey 是一组按键</p> <p>在 keyboard 中，一个 key 只有两种状态，分别是 <code>keyboard.KEY_DOWN</code> 和 <code>keyboard.KEY_UP</code>
，对应按键的按下和释放，一次点击被理解为先 <code>keyboard.KEY_DOWN</code> 再 <code>keyboard.KEY_UP</code></p> <p>如果您正使用 windows 系统，您可能知道按下 <code>windows</code> 键会弹出开始菜单。但事实上是<strong>释放</strong> <code>windows</code>
键会弹出开始菜单，长按 <code>windows</code> 键再释放，您就会明白这句话的意思</p> <p><a href="https://github.com/boppreh/keyboard" target="_blank" rel="noopener noreferrer">Document<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="常用函数"><a href="#常用函数" class="header-anchor">#</a> 常用函数</h3> <h4 id="send-hotkey-do-press-do-release"><a href="#send-hotkey-do-press-do-release" class="header-anchor">#</a> <code>send(hotkey, do_press, do_release)</code></h4> <p>令操作系统执行此热键（顺序按下，然后逆序释放）<br> <em>press</em> 和 <em>release</em> 封装了该函数，分别只执行<em>按下</em> 和 <em>释放</em></p> <h4 id="hook-callback"><a href="#hook-callback" class="header-anchor">#</a> <code>hook(callback)</code></h4> <p>监听所有按键事件，包括按下和释放<br> <em>on_press</em> 和 <em>on_release</em> 封装了该函数，分别只监听<em>按下</em> 和 <em>释放</em></p> <p>可用于：“按下任意键继续...”</p> <h4 id="hook-key-key-callback"><a href="#hook-key-key-callback" class="header-anchor">#</a> <code>hook_key(key, callback)</code></h4> <p>监听特定按键，包括按下和释放<br> <em>on_press_key</em> 和 <em>on_release_key</em> 封装了该函数，分别只监听<em>按下</em> 和 <em>释放</em></p> <h4 id="remap-key-src-dst"><a href="#remap-key-src-dst" class="header-anchor">#</a> <code>remap_key(src, dst)</code></h4> <p>重映射按键<br>
当按下 <em>src</em> 时，相当于按下 <em>dst</em></p> <h4 id="add-hotkey-hotkey-callback-args"><a href="#add-hotkey-hotkey-callback-args" class="header-anchor">#</a> <code>add_hotkey(hotkey, callback, args=())</code></h4> <p>自定义热键，<em>args</em> 会传给 <em>callback</em> 作为参数</p> <h4 id="remap-hotkey-src-dst"><a href="#remap-hotkey-src-dst" class="header-anchor">#</a> <code>remap_hotkey(src, dst)</code></h4> <p>重映射热键<br>
当按下 <em>src</em> 时，相当于按下 <em>dst</em></p> <h4 id="write-text-delay-0"><a href="#write-text-delay-0" class="header-anchor">#</a> <code>write(text, delay=0)</code></h4> <p>逐字符向操作系统输入 <em>text</em><br> <em>delay</em> 为各单字写入的时间间隔，单位秒</p> <h4 id="wait-hotkey-none"><a href="#wait-hotkey-none" class="header-anchor">#</a> <code>wait(hotkey=None)</code></h4> <p>阻塞线程直到按下 hotkey，一般用于结束此脚本</p> <h4 id="record-until-escape"><a href="#record-until-escape" class="header-anchor">#</a> <code>record(until='escape')</code></h4> <p>记录接下来的用户输入直到用户按下 hotkey，它返回一个 <em>list[KeyboardEvent]</em></p> <h4 id="play-events-speed-factor-1-0"><a href="#play-events-speed-factor-1-0" class="header-anchor">#</a> <code>play(events, speed_factor=1.0)</code></h4> <p>执行一个 <em>list[KeyboardEvent]</em>，它会以用户输入的速度执行（即 <em>list</em> 有记录各个按键的时间间隔）</p> <h4 id="add-word-listener-word-callback-triggers-space-match-suffix-false-timeout-2"><a href="#add-word-listener-word-callback-triggers-space-match-suffix-false-timeout-2" class="header-anchor">#</a> <code>add_word_listener(word, callback, triggers=['space'], match_suffix=False, timeout=2)</code></h4> <p>每当输入 <em>word</em> + <em>(trigger)</em> 时，执行 <em>callback</em>，若 <em>match_suffix</em> 为真，则以 <em>word</em> 结尾的词也可以触发</p> <h4 id="add-abbreviation-source-text-replacement-text-match-suffix-false-timeout-2"><a href="#add-abbreviation-source-text-replacement-text-match-suffix-false-timeout-2" class="header-anchor">#</a> <code>add_abbreviation(source_text, replacement_text, match_suffix=False, timeout=2)</code></h4> <p>当输入 <em>source_text</em> + <em>(space)</em> 时，替换为 <em>replacement_text</em>。<strong>替换是通过执行删除再写入进行的</strong></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notes/lang/java.html" class="prev">
        Java
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b70732cd.js" defer></script><script src="/assets/js/2.6ccf87d4.js" defer></script><script src="/assets/js/1.a1e8673c.js" defer></script><script src="/assets/js/58.7be432ce.js" defer></script>
  </body>
</html>
